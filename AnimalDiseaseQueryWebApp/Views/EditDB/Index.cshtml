@model AnimalDiseaseQueryWebApp.Models.EditDBViewModel

@{
    ViewBag.Title = "EditDB";

}
<h2>EditDB</h2>

@Html.ValidationSummary(false, "", new { @class = "text-danger" })

<div class="row">
    <div class="col-md-3">
        <h3> Animals</h3>
        <hr />
    </div>
</div>


@{
    Html.RenderPartial("_InsertNewAnimal");
    int n = 0;
}

<br />

<div class="row">
    <div class="col-md-2">
        ID
    </div>

    <div class="col-md-2">
        Name
    </div>

</div>

<br />

@for (int i = 0; i < Model.animals.Count; i++)
{
    AnimalDiseaseQueryWebApp.Models.Animal currentAnimal = Model.animals[i];
    <div class="row">
        <div class="col-md-2">
            @currentAnimal.Id
        </div>

        <div class="col-md-2">
            @currentAnimal.Name
        </div>

        <div class="col-md-2">
            @currentAnimal.Sex
        </div>

        <div class="col-md-2">
            @currentAnimal.Age
        </div>

        @if (Model.animalNames.Count > 0)
        {

            if (Model.animalNames.ElementAt(n).Equals(currentAnimal.Name))
            {
                using (Html.BeginForm("RemoveAnimal", "EditDB", FormMethod.Post, new { @id = "form_remove_animal" }))
                {
                    @Html.Hidden("name", currentAnimal.Name)
                    <div class="col-md-2">
                        <button class="btn-danger" type="submit"> Remove Animal </button>
                    </div>

                    Model.animalNames.Remove(Model.animalNames.ElementAt(n));
                }


            }
        }


    </div>
}




<div class="row">
    <div class="col-md-3">
        <h3> Signs</h3>
        <hr />
    </div>
</div>

<div class="row">
    <div class="col-md-3">
        <h3> Diseases</h3>
        <hr />
       
    </div>
</div>
<div class="row">
    <div class="col-md-2">
        ID
    </div>

    <div class="col-md-2">
        Name
    </div>

   
    <div class="col-md-2">
        Probability
    </div>
</div>

@{
Html.RenderPartial("_InsertNewDisease");
}

<br />

@for (int i = 0; i < Model.diseases.Count; i++)
{
    AnimalDiseaseQueryWebApp.Models.Disease currentDisease = Model.diseases[i];
    <div class="row">
        <div class="col-md-2">
            @currentDisease.Id
        </div>

        <div class="col-md-2">
            @currentDisease.Name
        </div>

        <div class="col-md-2">
            @currentDisease.PriorsDiseas.Probability
        </div>

        <div class="col-md-2">

        </div>

        @using (Html.BeginForm("RemoveDisease", "EditDB", FormMethod.Post, new { @id = "form_remove_animal" }))
        {
            @Html.Hidden("id", currentDisease.Id)
            <div class="col-md-2">
                <button class="btn-danger" type="submit"> Remove Disease </button>
            </div>
        }
    </div>
}

